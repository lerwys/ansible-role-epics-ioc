---
- hosts: all

  vars:
    epics_packages_extra:
      - epics-asyn-dev
      - epics-stream-dev
      - epics-calc-dev

    epics_ioc_repos:
      - name: tekScope EPICS IOC
        org_url: https://github.com/brunoseivam
        repo_name: tekScope
        repo_version: master
        clone_path: /tmp
        install_via_makefile: true
        epics_modules_cfg:
          - ASYN=/usr/lib/epics
          - STREAM=/usr/lib/epics
          - CALC=/usr/lib/epics
        epics_overwrite_release_file: true
        epics_release_filename: RELEASE
        make_install_targets:
          - distclean
          - all
        force_version: true

  roles:
    - role: lerwys.epics_ioc
